import{g}from"./assets.efa26484.js";import{d as h,N as v,ap as w,O as x,aa as k,r as S,ab as y,_ as B,h as F,q as e,w as d,v as r,k as A,i as s,G as f}from"./index.8d320d67.js";import{S as m}from"./sweetalert2.all.a27bbf1d.js";import{c as C,a as u}from"./object.2ac17f8f.js";const E=h({name:"sign-in",components:{Field:v,VForm:w,ErrorMessage:x},setup(){const t=k(),l=y(),o=S(null),c=C().shape({email:u().email().required().label("Email"),password:u().min(4).required().label("Password")});return{onSubmitLogin:async i=>{var n;i=i,t.logout(),o.value&&(o.value.disabled=!0,o.value.setAttribute("data-kt-indicator","on")),await t.login(i);const a=Object.values(t.errors);a.length===0?m.fire({text:"You have successfully logged in!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-primary"}}).then(()=>{l.push({name:"dashboard"})}):m.fire({text:a[0],icon:"error",buttonsStyling:!1,confirmButtonText:"Try again!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-danger"}}).then(()=>{t.errors={}}),(n=o.value)==null||n.removeAttribute("data-kt-indicator"),o.value.disabled=!1},login:c,submitButton:o,getAssetPath:g}}}),V={class:"w-lg-500px p-10"},P=s("div",{class:"text-center mb-10"},[s("h1",{class:"text-dark mb-3"},"Sign In")],-1),$={class:"fv-row mb-10"},N=s("label",{class:"form-label fs-6 fw-bold text-dark"},"Email",-1),T={class:"fv-plugins-message-container"},q={class:"fv-help-block"},L={class:"fv-row mb-10"},M={class:"d-flex flex-stack mb-2"},O=s("label",{class:"form-label fw-bold text-dark fs-6 mb-0"},"Password",-1),I={class:"fv-plugins-message-container"},j={class:"fv-help-block"},G={class:"text-center"},R={tabindex:"3",type:"submit",ref:"submitButton",id:"kt_sign_in_submit",class:"btn btn-lg btn-primary w-100 mb-5"},Y=s("span",{class:"indicator-label"}," Continue ",-1),z=s("span",{class:"indicator-progress"},[f(" Please wait... "),s("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),D=[Y,z];function H(t,l,o,c,_,i){const a=r("Field"),n=r("ErrorMessage"),b=r("router-link"),p=r("VForm");return A(),F("div",V,[e(p,{class:"form w-100",id:"kt_login_signin_form",onSubmit:t.onSubmitLogin,"validation-schema":t.login,"initial-values":{email:"admin@demo.com",password:"demo"}},{default:d(()=>[P,s("div",$,[N,e(a,{tabindex:"1",class:"form-control form-control-lg form-control-solid",type:"text",name:"email",autocomplete:"off"}),s("div",T,[s("div",q,[e(n,{name:"email"})])])]),s("div",L,[s("div",M,[O,e(b,{to:"/password-reset",class:"link-primary fs-6 fw-bold"},{default:d(()=>[f(" Forgot Password ? ")]),_:1})]),e(a,{tabindex:"2",class:"form-control form-control-lg form-control-solid",type:"password",name:"password",autocomplete:"off"}),s("div",I,[s("div",j,[e(n,{name:"password"})])])]),s("div",G,[s("button",R,D,512)])]),_:1},8,["onSubmit","validation-schema","initial-values"])])}const W=B(E,[["render",H]]);export{W as default};
