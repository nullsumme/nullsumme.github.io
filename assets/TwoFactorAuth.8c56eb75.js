import{g as A,a as S}from"./assets.699bda38.js";import{K as T}from"./Card.1471039e.js";import{c as f,a as v}from"./object.a2c57def.js";import{d as M,O as $,N as B,ap as P,r as m,_ as C,h as x,i as t,q as s,p,Q as g,ao as w,G as l,w as k,v as d,k as F,F as V}from"./index.34b8515d.js";import{S as y}from"./sweetalert2.all.50abeecf.js";const K=M({name:"two-factor-auth-modal",components:{ErrorMessage:$,Field:B,VForm:P},setup(){const o=m("apps"),e=m(""),r=m(null),a=m(null),b=f().shape({mobile:v().required().label("Mobile")}),h=f().shape({code:v().required().label("Code")});return{value:o,state:e,schema1:b,schema2:h,submitAuthCodeForm:()=>{r.value&&(r.value.setAttribute("data-kt-indicator","on"),setTimeout(()=>{var n;(n=r.value)==null||n.removeAttribute("data-kt-indicator"),y.fire({text:"Form has been successfully submitted!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{e.value=""})},2e3))},submitMobileForm:()=>{!a.value||(a.value.disabled=!0,a.value.setAttribute("data-kt-indicator","on"),setTimeout(()=>{var n;a.value&&(a.value.disabled=!1,(n=a.value)==null||n.removeAttribute("data-kt-indicator")),y.fire({text:"Form has been successfully submitted!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{e.value=""})},2e3))},submitAuthCodeButtonRef:r,submitMobileButtonRef:a,getAssetPath:A}}}),E={class:"modal fade",id:"kt_modal_two_factor_authentication",tabindex:"-1","aria-hidden":"true"},R={class:"modal-dialog modal-dialog-centered mw-650px"},I={class:"modal-content"},N={class:"modal-header flex-stack"},q=t("h2",null,"Choose An Authentication Method",-1),U={class:"btn btn-sm btn-icon btn-active-color-primary","data-bs-dismiss":"modal"},G={class:"svg-icon svg-icon-1"},Q={class:"modal-body scroll-y pt-10 pb-15 px-lg-17"},O=t("p",{class:"text-gray-400 fs-5 fw-semobold mb-10"}," In addition to your username and password, you\u2019ll have to enter a code (delivered via app or SMS) to log into your account. ",-1),Y={class:"pb-10"},D={class:"btn btn-outline btn-outline-dashed btn-outline-default p-7 d-flex align-items-center mb-5",for:"kt_modal_two_factor_authentication_option_1"},W={class:"svg-icon svg-icon-4x me-4"},z=t("span",{class:"d-block fw-semobold text-start"},[t("span",{class:"text-dark fw-bold d-block fs-3"},"Authenticator Apps"),t("span",{class:"text-gray-400 fw-semobold fs-6"}," Get codes from an app like Google Authenticator, Microsoft Authenticator, Authy or 1Password. ")],-1),j={class:"btn btn-outline btn-outline-dashed btn-outline-default p-7 d-flex align-items-center",for:"kt_modal_two_factor_authentication_option_2"},H={class:"svg-icon svg-icon-4x me-4"},J=t("span",{class:"d-block fw-semobold text-start"},[t("span",{class:"text-dark fw-bold d-block fs-3"},"SMS"),t("span",{class:"text-gray-400 fw-semobold fs-6"},"We will send a code via SMS if you need to use your backup login method.")],-1),L=t("h3",{class:"text-dark fw-bold mb-7"},"Authenticator Apps",-1),X={class:"text-gray-500 fw-semobold fs-6 mb-10"},Z=t("a",{href:"https://support.google.com/accounts/answer/1066447?hl=en",target:"_blank"},"Google Authenticator",-1),tt=t("a",{href:"https://www.microsoft.com/en-us/account/authenticator",target:"_blank"},"Microsoft Authenticator",-1),ot=t("a",{href:"https://authy.com/download/",target:"_blank"},"Authy",-1),et=t("a",{href:"https://support.1password.com/one-time-passwords/",target:"_blank"},"1Password",-1),st={class:"pt-5 text-center"},at=["src"],nt={class:"notice d-flex bg-light-warning rounded border-warning border border-dashed mb-10 p-6"},it={class:"svg-icon svg-icon-2tx svg-icon-warning me-4"},lt=t("div",{class:"d-flex flex-stack flex-grow-1"},[t("div",{class:"fw-semobold"},[t("div",{class:"fs-6 text-gray-600"},[l(" If you having trouble using the QR code, select manual entry on your app, and enter your username and the code: "),t("div",{class:"fw-bold text-dark pt-2"}," KBSS3QDAAFUMCBY63YCKI5WSSVACUMPN ")])])],-1),ct={class:"mb-10 fv-row"},rt={class:"fv-plugins-message-container"},dt={class:"fv-help-block"},ut={class:"d-flex flex-center"},mt={ref:"submitAuthCodeButtonRef",type:"submit","data-kt-element":"apps-submit",class:"btn btn-primary"},bt=t("span",{class:"indicator-label"}," Submit ",-1),ht=t("span",{class:"indicator-progress"},[l(" Please wait... "),t("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),pt=[bt,ht],_t=t("h3",{class:"text-dark fw-bold fs-3 mb-5"}," SMS: Verify Your Mobile Number ",-1),ft=t("div",{class:"text-gray-400 fw-semobold mb-10"}," Enter your mobile phone number with country code and we will send you a verification code upon request. ",-1),vt={class:"mb-10 fv-row"},gt={class:"fv-plugins-message-container"},wt={class:"fv-help-block"},kt={class:"d-flex flex-center"},yt={ref:"submitMobileButtonRef",type:"submit","data-kt-element":"sms-submit",class:"btn btn-primary"},At=t("span",{class:"indicator-label"}," Submit ",-1),Mt=t("span",{class:"indicator-progress"},[l(" Please wait... "),t("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),Ct=[At,Mt];function xt(o,e,r,a,b,h){const c=d("inline-svg"),u=d("Field"),n=d("ErrorMessage"),_=d("VForm");return F(),x("div",E,[t("div",R,[t("div",I,[t("div",N,[q,t("div",U,[t("span",G,[s(c,{src:o.getAssetPath("/media/icons/duotune/arrows/arr061.svg")},null,8,["src"])])])]),t("div",Q,[t("div",{class:p([o.state!==""&&"d-none"])},[O,t("div",Y,[g(t("input",{type:"radio",class:"btn-check",name:"auth_option",value:"apps",checked:"",id:"kt_modal_two_factor_authentication_option_1","onUpdate:modelValue":e[0]||(e[0]=i=>o.value=i)},null,512),[[w,o.value]]),t("label",D,[t("span",W,[s(c,{src:o.getAssetPath("/media/icons/duotune/coding/cod001.svg")},null,8,["src"])]),z]),g(t("input",{type:"radio",class:"btn-check",name:"auth_option",value:"sms",id:"kt_modal_two_factor_authentication_option_2","onUpdate:modelValue":e[1]||(e[1]=i=>o.value=i)},null,512),[[w,o.value]]),t("label",j,[t("span",H,[s(c,{src:o.getAssetPath("/media/icons/duotune/communication/com003.svg")},null,8,["src"])]),J])]),t("button",{onClick:e[2]||(e[2]=i=>o.state=o.value),class:"btn btn-primary w-100"}," Continue ")],2),t("div",{class:p([o.state!=="apps"&&"d-none"]),"data-kt-element":"apps"},[L,t("div",X,[l(" Using an authenticator app like "),Z,l(", "),tt,l(", "),ot,l(", or "),et,l(", scan the QR code. It will generate a 6 digit code for you to enter below. "),t("div",st,[t("img",{src:o.getAssetPath("/media/misc/qr.png"),alt:"",class:"mw-150px"},null,8,at)])]),t("div",nt,[t("span",it,[s(c,{src:o.getAssetPath("/media/icons/duotune/general/gen044.svg")},null,8,["src"])]),lt]),s(_,{class:"form",onSubmit:e[4]||(e[4]=i=>o.submitAuthCodeForm()),"validation-schema":o.schema2},{default:k(()=>[t("div",ct,[s(u,{type:"text",class:"form-control form-control-lg form-control-solid",placeholder:"Enter authentication code",name:"code"}),t("div",rt,[t("div",dt,[s(n,{name:"code"})])])]),t("div",ut,[t("button",{type:"reset",onClick:e[3]||(e[3]=i=>o.state=""),class:"btn btn-light me-3"}," Cancel "),t("button",mt,pt,512)])]),_:1},8,["validation-schema"])],2),t("div",{class:p([o.state!=="sms"&&"d-none"]),"data-kt-element":"sms"},[_t,ft,s(_,{class:"form",onSubmit:e[6]||(e[6]=i=>o.submitMobileForm()),"validation-schema":o.schema1},{default:k(()=>[t("div",vt,[s(u,{type:"text",class:"form-control form-control-lg form-control-solid",placeholder:"Mobile number with country code...",name:"mobile"}),t("div",gt,[t("div",wt,[s(n,{name:"mobile"})])])]),t("div",kt,[t("button",{onClick:e[5]||(e[5]=i=>o.state=""),class:"btn btn-light me-3"}," Cancel "),t("button",yt,Ct,512)])]),_:1},8,["validation-schema"])],2)])])])])}const Ft=C(K,[["render",xt]]),St=M({name:"two-factor-auth",components:{KTModalCard:T,KTTwoFactorAuthModal:Ft},setup(){return{getIllustrationsPath:S,getAssetPath:A}}});function Tt(o,e,r,a,b,h){const c=d("KTModalCard"),u=d("KTTwoFactorAuthModal");return F(),x(V,null,[s(c,{title:"Two-factor Authentication",description:"Click on the below buttons to launch <br/>two-factor authentication setup example.",image:o.getIllustrationsPath("4.png"),"button-text":"Enable Two-factor Authentication","modal-id":"kt_modal_two_factor_authentication"},null,8,["image"]),s(u)],64)}const Et=C(St,[["render",Tt]]);export{Et as default};
